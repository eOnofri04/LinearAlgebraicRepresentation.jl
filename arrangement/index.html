<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Arrangement module · LinearAlgebraicRepresentation.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/lar.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="LinearAlgebraicRepresentation.jl logo"/></a><h1>LinearAlgebraicRepresentation.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../lar/">L.A.R. Intro</a></li><li><a class="toctext" href="../interface/">Interface</a></li><li><span class="toctext">Arrangement</span><ul><li class="current"><a class="toctext" href>Arrangement module</a><ul class="internal"><li><a class="toctext" href="#Organisation-1">Organisation</a></li><li><a class="toctext" href="#Theoretical-basis-1">Theoretical basis</a></li></ul></li><li><a class="toctext" href="../planar_arrangement/">Planar arrangement</a></li></ul></li><li><span class="toctext">Parametric primitives</span><ul><li><a class="toctext" href="../mapper/">Mapper</a></li><li><a class="toctext" href="../struct/">Assemblies</a></li></ul></li><li><span class="toctext">Grid generation</span><ul><li><a class="toctext" href="../largrid/">Cuboidal grids</a></li><li><a class="toctext" href="../simplexn/">Simplicial grids</a></li></ul></li><li><a class="toctext" href="../integr/">Domain integration</a></li></ul></nav><article id="docs"><header><nav><ul><li>Arrangement</li><li><a href>Arrangement module</a></li></ul><a class="edit-page" href="https://github.com/eOnofri04/LinearAlgebraicRepresentation.jl/blob/master/docs/src/arrangement.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Arrangement module</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Arrangement-of-cellular-complexes-1" href="#Arrangement-of-cellular-complexes-1">Arrangement of cellular complexes</a></h1><p>The <strong>arrangement</strong> is an algorithm which gets two general <span>$d$</span>-dimensional cellular complexes and arranges them in a singular <span>$d$</span>-dimensional cellular complex of which the cells respect the conditions:</p><ul><li><span>$\sigma_1 \cap \sigma_2 = \emptyset,\quad \forall$</span> couple of cells <span>$(\sigma_1, \sigma_2)$</span></li><li><span>$\bigcup_i\sigma_i = \mathbb{E}^d$</span></li></ul><p>This operation can be seen as a boolean union of two cellular complexes. Here an exploded visualization of the final result of the arrangement algorithm run on 2 cubes made by <span>$10\times10\times10$</span> smaller cubes.</p><p><img src="../images/cube10x10.jpg" alt="10 x 10 Cube"/></p><blockquote><p><strong>Figure 1:</strong> Arrangement of <span>$2000=2\times10\times10\times10$</span> cubes</p></blockquote><h2><a class="nav-anchor" id="Organisation-1" href="#Organisation-1">Organisation</a></h2><p>Every function strictly relative to the arrangement has been collected in the <code>Lar.Arrangement</code> sub-module but the two main functions are accessible directly from the <code>LinearAlgebraicRepresentation</code> namespace. They are:</p><ul><li><a href="."><code>Lar.planar_arrangement</code></a> that evaluates the arrangements in 2D spaces.</li><li><a href="."><code>Lar.spatial_arrangement</code></a> that evaluates the arrangements in 3D spaces.</li></ul><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p><code>Lar.Arrangement</code> is the only place in <code>LinearAlgebraicRepresentation</code> where <code>Point</code> matrices store points per row and not per column as described in the documentation of <code>Lar.Points</code></p></div></div><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Even if the arrangement algorithm is theoretically dimension independent, we implemented &quot;only&quot; the <span>$d=2$</span> and <span>$d=3$</span> version of it.</p></div></div><h2><a class="nav-anchor" id="Theoretical-basis-1" href="#Theoretical-basis-1">Theoretical basis</a></h2><p>The algorithm is based on the concept of recursive problem simplification  (a sort of <em>divide et impera</em> philosophy); if we have a <span>$d$</span>-complex, for every (<span>$d-1$</span>)-cell embedded into the <span>$\mathbb{E}^d$</span> euclidean space, we bring the cell, and every other cell that could intersect it, down into <span>$\mathbb{E}^{d-1}$</span>. We do this until we reach the <span>$d=1$</span> in <span>$\mathbb{E}^1$</span> case; in here, we fragment all the <span>$1$</span>-cells. Then, we travel back to the original <span>$d$</span>-dimension, and, for each dimensional step, we build correct complexes from cells provided by the  fragmentation of the lower dimension. </p><p><img src="../images/arrangement_steps.jpg" alt="Arrangement steps"/></p><blockquote><p><strong>Figure 2:</strong> Algorithm overview</p></blockquote><p>We have in input two cellular complexes [fig. 2, a],  given as 2-skeletons, which are the sets of 2-cells  [fig. 2, b, exploded]. Once we merged the skeletons,  we individuate for each <span>$2$</span>-cell (that we will call <span>$\sigma$</span>) all the other cells that could intersect it. We do this by computing the spatial index: it is a mapping <span>$\mathcal{I}(\sigma)$</span> from a cell  <span>$\sigma$</span> to every other cell <span>$\tau$</span> of which <span>$box(\sigma) \cap box(\tau) \neq \emptyset$</span>, where the <span>$box$</span> function provides the axis aligned bounding box (AABB) of a cell [fig. 2, c,  <span>$\sigma$</span> in red and <span>$\mathcal{I}(\sigma)$</span> in blue]. The spatial arrangement calculation is speeded up by storing the AABBs as dimensional wise intervals into an interval tree \cite{interval<em>trees}.  Now for each cell <span>$\sigma$</span> we transform <span>$\sigma \cup \mathcal{I}(\sigma)$</span>  in a way that <span>$\sigma$</span> lays on the ``x</em>3=0<span>$plane [fig. 2, d] and we find the intersections  of the$</span>\mathcal{I}(\sigma)<span>$cells with$</span>x_3=0<span>$plane. So we have a &quot;soup&quot; of 1-cells in$</span>\mathbb{E}^2<span>$[fig. 2, e], and we fragment each 1-cell  with every other cell obtaining a valid 1-skeleton [fig. 2, f]. From this data it is possible to build the 2-cells using the ALGORITHM 1 presented and explored by Paoluzzi et al. \cite{Paoluzzi} [fig. 2, g, exploded]. The procedure to fragment 1-cells on a plane and return a 2-complex is called *planar arrangement*. When the planar arrangement  is complete, fragmented$</span>\sigma<span>$can be transformed back to its original position in$</span>\mathbb{E}^3``. With every 2-cell correctly fragmented, we can use the  already cited ALGORITHM 1 again to build a full 3-complex [fig. 2, h, exploded]. This is possible because ALGORITHM 1 is (almost) dimension independent.</p><h3><a class="nav-anchor" id="The-&quot;1-cells-in-\\mathbb{E}2&quot;-base-case-1" href="#The-&quot;1-cells-in-\\mathbb{E}2&quot;-base-case-1">The &quot;<span>$1$</span>-cells in <span>$\mathbb{E}^2$</span>&quot; base case</a></h3><p><img src="../images/planar_arrangement.jpg" alt="Planar arrangement overview"/></p><blockquote><p><strong>Figure 3:</strong> Planar arrangement overview</p></blockquote><p>This is our base case. We have called <em>planar arrangement</em> the procedure to handle this case since it literally arranges a bunch of edges laying on a plane. So, in input there are 1-cells in <span>$\mathbb{E}^2$</span> and, optionally (but very likely), the boundary of the original 2-cell <span>$\sigma$</span>  [fig. 3, a, <span>$\sigma$</span> in red]. We consider each edge and we fragment it with every other edge. This brings to the creation of several coincident vertices: these will be eliminated using a KD-Tree [fig. 3, b, exploded].  At this point we have a perfectly fragmented 1-complex but many edges are superfluous and must be eliminated; two kind of edges are to discard: the ones outside the area of <span>$\sigma$</span> and the ones which are not part of a maximal biconnected component  (We can talk about biconnected components because we can consider the 1-skeleton as a graph:  0-cells are nodes, 1-cells are edges and the boundary operator is a incidence matrix.). The result of this edge pruning outputs a 1-skeleton [fig. 3, c, exploded].</p><p>After this, 2-cells must be computed: For each connected component we build a containment tree, which indicates which component is spatially inside an other component. Computing these relations lets us launch the ALGORITHM 1 \cite{Paoluzzi} on each component and then combine the results to create 2-cells with non-intersecting  shells [fig. 3, d, 2-cells numbered in green; please note that cell 2 has cell 1 as an hole].</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>A 2-cell with a non-intersecting shell can be trivially defined as a &quot;face with holes&quot;; the correct definition is that it cannot  be shrunk to the dimension of a point.</p></div></div><footer><hr/><a class="previous" href="../interface/"><span class="direction">Previous</span><span class="title">Interface</span></a><a class="next" href="../planar_arrangement/"><span class="direction">Next</span><span class="title">Planar arrangement</span></a></footer></article></body></html>
